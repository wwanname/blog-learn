---
import Arrow from "../../public/assests/Arrow.svg"

const { open = false, label } = Astro.props
---

<div class="dropdown">
    <details {open}>
      <summary class="inline-flex rounded-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--backdrop)] cursor-pointer
          focus-visible:ring-offset-2 focus-visible:ring-offset-gray-100 dark:focus-visible:ring-offset-gray-800 transition-all relative z-10">
          <span role="presentation">
              <slot name="title" />
            <Arrow width={10} height={10} stroke="var(--abstract)" aria-hidden="true" />
          </span>
      </summary>
    </details>
    <div role="group" aria-labelledby={label} class="content">
      <div class="inline-flex flex-col mt-0.5 space-y-1 2xl:mt-1.75 2xl:space-y-1.75">
        <slot name="content" />
      </div>
    </div>
</div>

<style>
    .dropdown {
        display: inline-block;
        width: fit-content;
    }

    summary {
      display: inline-flex;
      align-items: center;
      cursor: pointer;
    }

    summary::-webkit-details-marker {
      display: none;
    }

    summary span {
      position: relative;
      display: inline-flex;
      align-items: center;
    }

    svg {
      display: inline-block;
      rotate: 90deg;
      align-self: center;
      margin-left: 1ex;
      transition: rotate 200ms cubic-bezier(0.4, 0, 0.2, 1);;
      stroke: var(--abstract);
    }

    .content {
      box-sizing: border-box;
      height: 0;
      overflow-y: clip;
      border-radius: 0.125rem;
      transition: height 300ms ease-out;
    }

    details[open] + .content {
      height: fit-content;
      overflow-y: hidden;
      transition: height 300ms ease-out;
    }

    details[open] svg {
      rotate: 0deg;
      transition: rotate 200ms cubic-bezier(0.4, 0, 0.2, 1);;
    }
</style>